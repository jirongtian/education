package com.ntyx.vedu.controller;import com.github.pagehelper.PageInfo;import com.ntyx.vedu.entity.Title;import com.ntyx.vedu.service.TitleService;import org.springframework.beans.factory.annotation.Autowired;import org.springframework.http.HttpStatus;import org.springframework.http.ResponseEntity;import org.springframework.stereotype.Controller;import org.springframework.web.bind.annotation.GetMapping;import org.springframework.web.bind.annotation.RequestMapping;import org.springframework.web.bind.annotation.RequestParam;@Controller@RequestMapping("/title")public class TitleController {    @Autowired    private TitleService titleService;    /**     * 查询用户表数据     */    @RequestMapping(value = "/list" , name = "全部题目查询")    public ResponseEntity<PageInfo> list(@RequestParam(defaultValue = "1") Integer page , @RequestParam(defaultValue = "10") Integer pageSize){        //分页数据        PageInfo pageInfo = titleService.findAll(page, pageSize);        return ResponseEntity.ok(pageInfo);    }    /**     * 保存或修改     */    @RequestMapping(value = "/edit" ,name = "保存或修改" )    public ResponseEntity<Void> edit(Title title) throws Exception {        //如果id为null说明新增        if(title.getId()==null){            titleService.save(title);        }else{            titleService.update(title);        }        return new ResponseEntity<>(HttpStatus.CREATED);    }    /**     * 删除用户     */    @RequestMapping(value = "/delete" ,name = "删除题目")    public ResponseEntity<String> delete(@RequestParam(name = "id") Integer id ){        titleService.delete(id);        String msg="success";        return  ResponseEntity.ok(msg);    }    /**     * 跳转用户修改页面     */    @GetMapping(value = "/toUpdate" ,name = "题目修改页面" )    public ResponseEntity<Title> FindUserById(@RequestParam(name = "id") Integer id){//根据id查询需要修改的数据        Title title = titleService.findById(id);        return ResponseEntity.ok(title);    }}